# Timeline Filter Configuration
# This file configures per-user filtered timeline feeds

timeline_feeds:
  # Example user 1: Basic configuration
  - did: "did:plc:user123abc"
    feed_uri: "at://did:plc:your-feedgen-did/app.bsky.feed.generator/user123-filtered"
    name: "My Filtered Timeline"
    description: "Following feed without annoying reposts"

    # OAuth credentials for accessing the user's timeline
    oauth:
      access_token: "your-access-token-here"
      # Optional: refresh token for automatic token renewal
      refresh_token: "your-refresh-token-here"
      # Optional: token expiration (ISO 8601 format)
      expires_at: "2025-12-31T23:59:59Z"
      # PDS URL (usually https://bsky.social for most users)
      pds_url: "https://bsky.social"

    # Filtering configuration
    filters:
      # List of DIDs whose reposts will be filtered out
      # Note: Original posts from these users will still appear
      blocked_reposters:
        - "did:plc:annoying-reposter-1"
        - "did:plc:annoying-reposter-2"

    # Optional: How often to poll this user's timeline (default: 30s)
    poll_interval: "30s"

    # Optional: Maximum posts to fetch per poll (default: 50, max: 100)
    max_posts_per_poll: 50

  # Example user 2: Minimal configuration
  - did: "did:plc:anotheruser456"
    feed_uri: "at://did:plc:your-feedgen-did/app.bsky.feed.generator/user456-filtered"
    name: "Clean Timeline"
    description: "Timeline with selective filtering"

    oauth:
      access_token: "another-access-token"
      pds_url: "https://bsky.social"

    filters:
      blocked_reposters:
        - "did:plc:spam-account"

  # Example user 3: Custom poll interval
  - did: "did:plc:poweruser789"
    feed_uri: "at://did:plc:your-feedgen-did/app.bsky.feed.generator/user789-filtered"
    name: "Power User Feed"
    description: "High-frequency polling for active users"

    oauth:
      access_token: "power-user-token"
      pds_url: "https://bsky.social"

    filters:
      blocked_reposters: []

    # Poll every 10 seconds for near-realtime updates
    poll_interval: "10s"
    max_posts_per_poll: 100

# Notes:
# - Each user needs their own access token obtained via OAuth
# - DIDs must start with "did:" (e.g., "did:plc:...")
# - Feed URIs must start with "at://"
# - Poll intervals: "10s", "30s", "1m", "5m", etc.
# - To get your access token, use the OAuth flow or session tokens
